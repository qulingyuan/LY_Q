js 的设计：”原型继承机制“，”函数是一等公民“

js 混合使用编译执行和解释执行两种方式，称作 JIT(Just In Time)。

js 是一门基于对象的语言，但却不是面向对象的语言。因为面向对象需要实现封装继承多态。js 并没有直接提供多态。另外js 继承方式与面向对象语言也有较大差异。js 通过在对象中增加一个原型的属性，把继承的对象通过原型链链接起来，就实现了继承，这种继承方式称为基于原型链的继承。

js 中的对象就是由一组属性和值构成的集合。

js 中的函数作为一个对象，可以有自己的属性和值。函数特殊的点在于可以被调用

如果某个编程语言的函数可以和他的数据类型做一样的事情，我们就把这个语言中的函数称为一等公民

将外部变量和函数绑定起来的技术称为闭包。



对象的属性打印出来，数字属性按照索引值大小升序排列，字符串属性根据创建时的顺序升序排列。对象中的数字属性成为排序属性，v8 中称为 `elements`，字符串属性被称为常规属性，v8 中称为`properties`。索引操作时，会先从`elements` 中顺序读取，再从 `properties` 中读取。



两种方式来创建函数：函数表达式，函数声明。

函数声明的本质是语句，函数表达式的本质是语句。

表达式就是表示值的式子；语句是操作值的式子。



```
//以下为表达式
x=5;
1===2
```

语句：

```
var a;
```

表达式与语句的区分方式是在浏览器执行看有没有返回值。语句在编译阶段执行，表达式不会在编译阶段执行，而是在在执行阶段执行。

在表达式中使用 function 来定义一个函数，该函数就称为函数表达式。

因为小括号之间存放的必须是表达式，所以v8 会把小括号里面的函数看做是函数表达式，执行时会返回一个函数对象，在后面加上调用的括号，就称为立即调用函数表达式（IIFE）。IIFE 可以达到变量隔离和代码隐藏的作用。

```javascript
var n = 1;
(function foo(){
    n = 100;
    console.log(n);
}())
console.log(n);
//100  100
```



```javascript
var n = 1;
function foo(){
    n = 100;
    console.log(n);
}
console.log(n);
foo();
// 1  100
```

继承-原型链

继承就是一个对象可以访问另一个对象中的属性和方法。

继承有两种方式：基于类的继承；基于原型的继承。

js 每个对象都包含一个隐藏属性`__proto__`称之为对象的原型(prototype)，`__proto__`指向的对象称之为原型对象。

js 函数具有name,code,prototype属性。

当函数作为**构造函数**来创建一个新对象时，新创建对象的原型对象指向该函数的 prototype 属性。