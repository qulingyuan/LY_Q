## V8执行JavaScript

V8引擎中JavaScript代码的运行过程主要分为三个阶段：

1. **语法分析阶段**。 该阶段会对代码进行语法分析，检查是否有语法错误（SyntaxError），如果发现语法错误，会在控制台抛出异常并终止执行。

2. **编译阶段**。 该阶段会进行执行上下文（Execution Context）的创建，包括创建变量对象、建立作用域链、确定 this 的指向等。每进入一个不同的运行环境时，V8 引擎都会创建一个新的执行上下文。

3. **执行阶段**。 将编译阶段中创建的执行上下文压入调用栈，并成为正在运行的执行上下文，代码执行结束后，将其弹出调用栈。

### 编译阶段执行上下文的创建

建立作用域链

创建变量对象

确定this指向