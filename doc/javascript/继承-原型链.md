JS是一个基于原型继承的语言。

### 原型关系

每个class都有显式原型`prototype`

每个实例都有隐式原型`__proto__`

实例的__proto指向对应class的prototype

### 基于原型的执行规则

获取属性xialuo.name或执行方法xialuo.sayHi()时，先在自身属性和方法寻找，如果找不到则自动去`__proto__`中查找，依次类推，一直找到Object的prototype。

### instanceof操作符

```javascript
a instanceof B; //相当于判断a.__proto__ === B.prototype
```



讲那么多没啥叼用，用例子来理解更快：

```javascript
//父类
class People{
    constructor(name){
        this.name = name;
    }
    eat(){
        console.log(`${this.name} eat something`);
    }
}
//子类
class Student extends People{
    constructor(name,number){
        super(name);
        this.number = number;
    }
    sayHi(){
        console.log(`名字:${this.name},学号:${this.number}`);
    }
}
//子类
class Teacher extends People{
    constructor(name,major){
        super(name);
        this.major = major;
    }
    teach(){
        console.log(`${this.name} 教授 ${this.major}`);
    }
}
//实例
const xialuo = new Student("夏洛",100);
console.log(xialuo.name);
console.log(xialuo.number);
xialuo.sayHi();
xialuo.eat();
//实例
const liusir = new Teacher("刘老师","语文");
console.log(liusir.name);
console.log(liusir.major);
liusir.teach();
liusir.eat();

console.log(xialuo instanceof Student);//true
console.log(xialuo instanceof People);//true
console.log(xialuo instanceof Object);//true
console.log(People instanceof Object);//true
console.log(Student instanceof People);//false  思考一下，为什么是false
console.log(Teacher instanceof People);//false
console.log(Student instanceof Object);//true

//class实际上是函数，可见是语法糖
console.log(typeof Student);//function

console.log(xialuo.__proto__);//隐式原型
console.log(Student.prototype);//显示原型
console.log(xialuo.__proto__===Student.prototype);//true，即二者是同一个引用

console.log(People.prototype===Student.prototype.__proto__);//true

console.log(xialuo.hasOwnProperty("name"));//true
console.log(xialuo.hasOwnProperty("sayHi"));//false
console.log(xialuo.hasOwnProperty("hasOwnProperty"));//false

```

把下面的图记在心中，就理解了原型链。（其实很简单）

原型：

![原型](https://github.com/qulingyuan/ly_q/blob/86b359772036eafbb619f447c9ac8109d6a45726/doc/media/prototype_1.jpeg)

原型链：

![原型链](https://github.com/qulingyuan/ly_q/blob/86b359772036eafbb619f447c9ac8109d6a45726/doc/media/prototype_2.jpeg)

